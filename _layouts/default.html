<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% assign site_brand = site.title | default: site.name %}
  {% assign page_title = site_brand %}
  {% if page.title %}
    {% assign candidate_title = page.title | strip %}
    {% if candidate_title != '' and candidate_title != site_brand %}
      {% assign page_title = candidate_title | append: ' | ' | append: site_brand %}
    {% endif %}
  {% endif %}
  <title>{{ page_title }}</title>
  <link rel="canonical" href="{{ page.url | absolute_url }}">
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#F6F7F9" id="theme-color-meta">
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
  <link rel="manifest" href="/assets/site.webmanifest">
  <link rel="apple-touch-icon" href="/assets/og-image.png">
  <meta property="og:title" content="{{ page_title }}">
  <meta property="og:site_name" content="{{ site_brand }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:image" content="{{ '/assets/og-image.png' | absolute_url }}">
  <meta name="twitter:card" content="summary_large_image">
  {% if site.google_analytics.measurement_id %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics.measurement_id }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '{{ site.google_analytics.measurement_id }}');
  </script>
  {% endif %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "{{ site.company.name }}",
      "legalName": "{{ site.company.legal_name }}",
      "url": "{{ site.company.url | default: site.url }}",
      "description": "{{ page.description | default: site.company.description | default: site.description }}",
      "email": "{{ site.company.email }}",
      "telephone": "{{ site.company.telephone }}",
      "image": "{{ site.company.logo }}",
      "founder": {
        "@type": "Person",
        "name": "{{ site.company.founder }}"
      },
      "sameAs": [{% for profile in site.company.same_as %}"{{ profile }}"{% if forloop.last == false %}, {% endif %}{% endfor %}],
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "{{ site.company.address.street_address }}",
        "addressLocality": "{{ site.company.address.address_locality }}",
        "addressRegion": "{{ site.company.address.address_region }}",
        "postalCode": "{{ site.company.address.postal_code }}",
        "addressCountry": "{{ site.company.address.address_country }}"
      }
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "itemListElement": [
        {
          "@type": "SiteNavigationElement",
          "position": 1,
          "name": "About",
          "url": "{{ '/about/' | absolute_url }}"
        },
        {
          "@type": "SiteNavigationElement",
          "position": 2,
          "name": "Contact",
          "url": "{{ '/contact/' | absolute_url }}"
        }
      ]
    }
  </script>
  <script>
    (function() {
      const storageKey = 'preferred-theme';
      const root = document.documentElement;
      const meta = document.getElementById('theme-color-meta');

      const getStoredTheme = () => {
        try {
          return localStorage.getItem(storageKey);
        } catch (error) {
          return null;
        }
      };

      const stored = getStoredTheme();
      const shouldUseDark = stored === 'dark';

      root.classList.toggle('dark', shouldUseDark);
      root.dataset.theme = shouldUseDark ? 'dark' : 'light';

      if (meta) {
        meta.setAttribute('content', shouldUseDark ? '#0B0B0C' : '#F6F7F9');
      }
    })();
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { extend: { colors: {
        brandblack: "#0B0B0C",
        brandoff: "#F6F7F9",
        brandblue: "#1E5FFF",
        brandyellow: "#FFC300"
      } } }
    }
  </script>
  <style>
    :root{ --black:#0B0B0C; --off:#F6F7F9; --blue:#1E5FFF; --yellow:#FFC300; color-scheme: light; }
    :root[data-theme="dark"]{ color-scheme: dark; }
    html{ scroll-behavior:smooth; background-color: var(--off); }
    .container{ max-width:1120px; }
  </style>
</head>
<body class="bg-brandoff text-brandblack dark:bg-brandblack dark:text-brandoff antialiased transition-colors duration-300">
  {% include header.html %}
  <main class="min-h-[50vh]">{{ content }}</main>
  {% include footer.html %}
</body>
</html>
